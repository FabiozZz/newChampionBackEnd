import React, {useContext} from 'react';
import classes from "../../profile.module.css";
import {declOfLessonsNum, isEmpty} from '../../../../helpers/common';
import moment from "moment";
import {SuccessContext} from "../../SuccessContext";


export const AbonimentInfo = ({user}) => {
    const {showAndChangeTypeModalChange} = useContext(SuccessContext);
    return (
        <>
            <div className={classes.block_info__info_card}>
                <img className={classes.block_info__info_card__img} src={user.club_card.level.img} width={37} height={25} alt="card"/>
                <div>
                    <h4 className={classes.block_info__info_card__general}>{user.club_card.rate.name} со
                        статусом {user.club_card.level.name} клиент</h4>
                    <p className={classes.block_info__info_card__label}>Срок
                        действия: <b>{moment(user.club_card.value_from).format('DD.MM.YYYY')} &mdash; {moment(user.club_card.valid_until).format('DD.MM.YYYY')}.</b> Доступно <b>{user.club_card.train_balance>9998?<span
                            dangerouslySetInnerHTML={{__html: '&#8734;'}}/>:user.club_card.train_balance}</b> {declOfLessonsNum(user.club_card.train_balance)}
                    </p>
                </div>
                <svg onClick={showAndChangeTypeModalChange} width="27" height="24" viewBox="0 0 27 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24.4839 12.5857C24.0656 12.5356 23.6853 12.8346 23.6354 13.2532C23.0081 18.5094 18.5315 22.4733 13.2226 22.4733C8.44786 22.4733 4.34697 19.2668 3.11352 14.7977L4.02673 15.2993C4.39627 15.502 4.86023 15.3672 5.06318 14.9977C5.26614 14.6282 5.13117 14.1642 4.76163 13.9613L2.41937 12.6745C2.05958 12.4769 1.58767 12.6209 1.38312 12.9753L0.0948088 15.3148C-0.108546 15.6841 0.02603 16.1483 0.395169 16.3516C0.761128 16.4989 1.2064 16.4099 1.43202 16.0513L1.73059 15.5092C3.24313 20.4708 7.86204 24 13.2226 24C19.3042 24 24.4324 19.4576 25.1514 13.4341C25.2013 13.0154 24.9023 12.6356 24.4839 12.5857Z" fill="#69707F"/>
                    <path d="M13.6242 12.8491V17.089C13.6242 17.5921 13.2163 18 12.7132 18C12.2101 18 11.8022 17.5921 11.8022 17.089V12.8491H7.91097C7.40785 12.8491 7 12.4413 7 11.9381C7 11.435 7.40785 11.0272 7.91097 11.0272H11.8022V6.91097C11.8022 6.40785 12.2101 6 12.7132 6C13.2163 6 13.6242 6.40785 13.6242 6.91096V11.0272H17.5155C18.0186 11.0272 18.4264 11.435 18.4264 11.9381C18.4264 12.4413 18.0186 12.8491 17.5155 12.8491H13.6242Z" fill="#69707F"/>
                    <path d="M25.5923 6.51828C25.2054 6.3515 24.7562 6.52981 24.5892 6.91704L24.3487 7.47443C23.5971 5.63668 22.3909 3.99215 20.8372 2.71895C18.6981 0.965488 15.9935 0 13.2214 0C10.4494 0 7.74477 0.965488 5.60547 2.71895C3.49579 4.44796 2.0256 6.86118 1.46582 9.51374C1.37876 9.92621 1.64274 10.3311 2.05521 10.4182C2.46749 10.5055 2.87261 10.2413 2.95967 9.82901C3.44789 7.51498 4.73123 5.40927 6.57315 3.89952C8.44011 2.36929 10.8013 1.52665 13.2214 1.52665C15.6414 1.52665 18.0026 2.36929 19.8695 3.89952C21.3045 5.07552 22.4002 6.6135 23.0455 8.32979L22.079 7.91414C21.692 7.74775 21.2429 7.92646 21.0761 8.31369C20.9096 8.70092 21.0885 9.14997 21.4759 9.31655L23.9008 10.3596C24.2722 10.5011 24.7308 10.3906 24.9337 9.97352L25.991 7.52134C26.158 7.13431 25.9795 6.68526 25.5923 6.51828Z" fill="#69707F"/>
                </svg>
                <svg width="28" height="24" viewBox="0 0 28 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.5803 15.7945L11.979 13.5817L14.6188 11.0329C14.795 10.8628 14.8869 10.6224 14.8696 10.377C14.8524 10.1317 14.7276 9.90688 14.5293 9.76354L10.3023 6.70866L13.2438 2.51757C13.3732 2.33321 13.4222 2.10343 13.3793 1.88174C13.3365 1.66006 13.2055 1.46567 13.0169 1.34372C11.6649 0.469939 10.0981 0.00534771 8.48577 5.51011e-05C8.47625 5.51011e-05 8.46706 0 8.45755 0C6.20873 0 4.0905 0.884307 2.49087 2.49166C0.884633 4.10574 0 6.24886 0 8.52634C0 10.7021 0.812991 12.7738 2.28929 14.3597L10.3657 23.0357C10.9361 23.6485 11.7413 24 12.5749 24H12.575C12.9599 24 13.2931 23.7301 13.376 23.3512L14.8524 16.6046C14.9181 16.3045 14.8133 15.9926 14.5803 15.7945ZM11.9488 22.1952C11.8052 22.1221 11.6738 22.024 11.562 21.9039L3.48559 13.2278C2.29586 11.9498 1.64064 10.28 1.64064 8.52634C1.64064 6.69168 2.35393 4.96458 3.64916 3.66315C4.93909 2.36695 6.64596 1.654 8.45777 1.654C8.46531 1.654 8.47292 1.654 8.48046 1.65405C9.48968 1.65736 10.4764 1.88373 11.3768 2.31414L8.49222 6.42429C8.23169 6.79549 8.31733 7.30909 8.68396 7.574L12.7705 10.5274L10.1854 13.0234C10.0173 13.1857 9.92548 13.4122 9.93287 13.6467C9.9402 13.8811 10.0459 14.1014 10.2238 14.2527L13.1435 16.7362L11.9488 22.1952Z" fill="#69707F"/>
                    <path d="M25.5095 2.49151C23.9097 0.884153 21.7919 0.00012207 19.5431 0.00012207C19.5334 0.00012207 19.5237 0.00012204 19.514 0.000177171H19.514C17.9156 0.00558004 16.3618 0.462508 15.0179 1.3219C14.9137 1.38193 14.8222 1.46518 14.7515 1.56756L11.8073 5.83087C11.5524 6.19997 11.6368 6.70674 11.9974 6.97165L16.5201 10.2947L13.9593 12.8871C13.8007 13.0476 13.7144 13.2667 13.7206 13.4932C13.7266 13.7196 13.8247 13.9337 13.9917 14.0852L16.234 16.1201L14.6272 22.9831C14.5696 23.229 14.6268 23.4881 14.7824 23.6862C14.938 23.8843 15.1749 24 15.4256 24H15.4257C16.2593 24 17.0646 23.6485 17.635 23.0357L25.7115 14.3597C27.1877 12.7738 28.0007 10.7022 28.0007 8.5264C28.0007 6.24876 27.1159 4.10553 25.5095 2.49151ZM24.5151 13.2279L16.6082 21.7219L17.9424 16.0233C18.0112 15.7293 17.9156 15.4209 17.6928 15.2187L15.7306 13.4379L18.3579 10.7782C18.5269 10.6072 18.6133 10.3703 18.5944 10.1296C18.5755 9.88886 18.4534 9.66856 18.2598 9.52637L13.6124 6.11165L16.0007 2.65332C17.0589 2.00321 18.272 1.6582 19.5196 1.65401H19.5196C19.5275 1.65401 19.5351 1.65395 19.543 1.65395C21.3546 1.65395 23.0615 2.36691 24.3514 3.66288C25.6467 4.96431 26.3601 6.69158 26.3601 8.52629C26.36 10.2801 25.7048 11.9498 24.5151 13.2279Z" fill="#69707F"/>
                </svg>


            </div>
            <div className={`${classes.block_info__item}`}>
                {/*<p className={classes.block_info__item_label}>Филиал:</p>*/}
                {/*<span className={classes.block_info__item_label__text}></span>*/}
                {!isEmpty(user.train_group) ?
                    <>
                        <p className={classes.block_info__item_label}>Записан в группу:</p>
                        <span className={classes.block_info__item_label__text}>{user.train_group.name}</span>
                    </>
                    :
                    !isEmpty(user.train_trainer) ?
                        <>
                            <p className={classes.block_info__item_label}>Записан к тренеру:</p>
                            <span className={classes.block_info__item_label__text}>{user.train_trainer.last_name} {user.train_trainer.first_name} {user.train_trainer.middle_name}</span>
                        </>
                        : null
                }
            {/*    <p className={classes.block_info__item_label}>WhatsApp:</p>*/}
            {/*    <span className={classes.block_info__item_label__text}>*/}
            {/*            <div className={classes.block_info__item__checkbox}>*/}
            {/*            <CheckboxBtn isChecked={whatsApp} setIsChecked={handleToggleWhatsApp}/>*/}
            {/*            </div>*/}
            {/*            <span className={classes.block_info__item__description}>Добавлен в чат</span>*/}
            {/*</span>*/}

            </div>
        </>
    );
};